---
date: 2020-05-23
code: 0.0.6b
location: Zoom
---

# ConcurCalculator

Today we have looked into [Concur](https://github.com/purescript-concur/purescript-concur-react) and tried to rewrite the [SimpleCalculator](https://github.com/MeetLambda/simpleCalculator) we had done using [Halogen](https://github.com/purescript-halogen/purescript-halogen).

We have used one of Concur [example](https://github.com/purescript-concur/purescript-concur-react/blob/master/examples/src/Test/Calc.purs) as a base to start with.

We didn't move very far, as we had a couple of issues; initially we were not able to see anything in the browser, as we didn't realised that that Concur `runWidgetInDom` was executing before the browser had actually completed the rendering of the DOM.

In order to solve this problem, in Concur examples, the `script` tag into the HTML file is usually placed at the very end of the `body` element. We have preferred to leave the `script` tag into the `head` section, and defer the execution of the main code placing its invocation into the [`window.onload` handler](https://github.com/MeetLambda/ConcurCalculator/blob/3357a5b054cebcb4ba5911212dc9439ec7db076e/src/purescript/_main.js#L33).

Besides structuring the project to use just `spago` and `parcel`, we added a minor improvement to code, adding the visualisation of the whole stack of values pushed to the calculator, instead of just the current element.